{% if messages %}
  {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show"
         role="alert"
         data-autohide="true">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
  {% endfor %}
{% endif %}
<style>
/* Estilo tipo toast */
.alert[data-autohide]{
  position: fixed;
  top: 1rem;
  right: 1rem;
  min-width: 320px;
  max-width: 420px;
  z-index: 1080;
  box-shadow: 0 10px 24px rgba(0,0,0,.15);
  border-radius: 14px;
}

/* Apilar si hay varios */
.alert[data-autohide]:nth-child(2){ top: 5.5rem; }
.alert[data-autohide]:nth-child(3){ top: 10rem; }
.alert[data-autohide]:nth-child(4){ top: 14.5rem; }
</style>
<script>
(function () {
  document.querySelectorAll('.alert[data-autohide]').forEach((el) => {
    let delay = 4500;
    let timer = null;

    function hide() {
      el.classList.remove('show');
      setTimeout(() => el.remove(), 300);
    }

    function start() {
      timer = setTimeout(hide, delay);
    }

    function pause() {
      if (timer) clearTimeout(timer);
    }

    el.addEventListener('mouseenter', pause);
    el.addEventListener('mouseleave', start);

    start();
  });
})();
</script>
